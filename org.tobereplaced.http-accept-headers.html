<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>org.tobereplaced.http-accept-headers documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Http-accept-headers 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="org.tobereplaced.http-accept-headers.html"><span>org.tobereplaced.http-accept-headers</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="org.tobereplaced.http-accept-headers.html#var-accept-language-wildcards"><span>accept-language-wildcards</span></a></li><li><a href="org.tobereplaced.http-accept-headers.html#var-accept-wildcards"><span>accept-wildcards</span></a></li><li><a href="org.tobereplaced.http-accept-headers.html#var-parse-accept"><span>parse-accept</span></a></li><li><a href="org.tobereplaced.http-accept-headers.html#var-parse-accept-charset"><span>parse-accept-charset</span></a></li><li><a href="org.tobereplaced.http-accept-headers.html#var-parse-accept-encoding"><span>parse-accept-encoding</span></a></li><li><a href="org.tobereplaced.http-accept-headers.html#var-parse-accept-language"><span>parse-accept-language</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>org.tobereplaced.http-accept-headers documentation</h2><pre class="doc">Parse HTTP Accept headers in accordance with RFC 2616.

This library intends to be 100% compliant with RFC 2616. It is
web-framework agnostic and simply provides a way to go from various
Accept headers to sequences of their values.

Parsers are implemented are Accept, Accept-Charset, Accept-Encoding,
and Accept-Language. In all cases, you may specify what you would
like to use in place of wildcard values.

Each parser returns a sequence of values corresponding to the header
that can be used to provide an appropriate response. The sequence is
ordered as per RFC 2616 sections 14.1-14.4, honoring the quality
parameter and all other required comparisons.

It is assumed that any default values you pass in place of wildcards
will be acceptible to your server, so they are not expanded into all
possible combinations.

This library assumes that the server does not have a preference when
it receives more than one field with the same quality value. If the
server would like to have control over this, a different workflow is
required.</pre><div class="public" id="var-accept-language-wildcards"><h3>accept-language-wildcards</h3><div class="usage"><code>(accept-language-wildcards default &amp; more)</code></div><pre class="doc">Returns a map suitable for use as the wildcards map with
parse-accept-language from language-tags like &quot;en-us&quot;. Each tag
will add a pairing from its prefix to the tag. The first tag will
also be used as the value for *. The language tags must be
lowercase. This is a utility function and is not meant to cover all
use cases.</pre></div><div class="public" id="var-accept-wildcards"><h3>accept-wildcards</h3><div class="usage"><code>(accept-wildcards default &amp; more)</code></div><pre class="doc">Returns a map suitable for use as the wildcards map with
parse-accept from media-type strings like &quot;text/html&quot;. Each
media-type will add a pairing from type/* to type/subtype. The first
media-type will also add pairings from * and */*. The media-type
strings must be lowercase. This is a utility function and is not
meant to cover all use cases.</pre></div><div class="public" id="var-parse-accept"><h3>parse-accept</h3><div class="usage"><code>(parse-accept wildcards accept-header)</code></div><pre class="doc">Returns an ordered sequence of vectors containing a media-type and
a hash-map of its parameters according to the Accept header. The
wildcards should be a map containing media types for all expected
media-ranges containing wildcards, like &quot;*&quot; or &quot;*/*&quot; or
&quot;text/*&quot;. The behavior of non-conforming Accept headers is
undefined and should not be relied on.

Note that the absence of an Accept header implies that any media
type is acceptable.

An example replacements map might be: {&quot;*&quot; &quot;text/html&quot; &quot;*/*&quot;
&quot;text/html&quot; &quot;text/*&quot; &quot;text/html&quot;}</pre></div><div class="public" id="var-parse-accept-charset"><h3>parse-accept-charset</h3><div class="usage"><code>(parse-accept-charset default accept-charset)</code></div><pre class="doc">Returns an ordered sequence of charsets according to the
Accept-Charset header. The default will be used in place of the *
wildcard and should be lowercase. The behavior of non-conforming
Accept-Charset headers is undefined and should not be relied on.

Note that the absence of an Accept-Charset implies that any charset
is acceptable. The default will be returned in this case.</pre></div><div class="public" id="var-parse-accept-encoding"><h3>parse-accept-encoding</h3><div class="usage"><code>(parse-accept-encoding default accept-encoding)</code></div><pre class="doc">Returns an ordered sequence of content-codings according to the
Accept-Encoding header. The default will be used in place of the *
wildcard and should be lowercase. The behavior of non-conforming
Accept-Encoding headers is undefined and should not be relied on.

Note that the absence of an Accept-Encoding implies that the only
acceptable encoding is the identity, which will be returned.</pre></div><div class="public" id="var-parse-accept-language"><h3>parse-accept-language</h3><div class="usage"><code>(parse-accept-language wildcards accept-language)</code></div><pre class="doc">Returns an ordered sequence of language tags according to the
Accept-Language header. The wildcards should be a map containing
tags for all non-prefixed language ranges and a tag for the *
wildcard. Language tags should be lowercase. The behavior of
non-conforming Accept-Language headers is undefined and should not
be relied on.

Note that the absence of an Accept-Language implies that any
language is acceptable. The language-tag corresponding the the *
wildcard will be returned.

An example wildcards map might be: {&quot;en&quot; &quot;en-gb&quot; &quot;*&quot;
&quot;en-gb&quot;}</pre></div></div></body></html>